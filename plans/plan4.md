Plan 4 — 게시물 상세 & 미디어 캐러셀
=====================================

## 작업 목표
- 피드 썸네일 클릭 후 노출되는 게시물 상세 경험을 완성하고, 이미지/동영상/프로필 히스토리를 모두 아우르는 뷰어 기능을 제공한다.
- Range 기반 스트리밍 등 미디어 관련 성능 요구사항을 충족하며 접근성을 보장한다.

## 범위 정의
- **포함**: `/post/:id` 라우팅, 모달 기반 상세 뷰, 미디어 캐러셀, 동영상 플레이어, 프로필 이미지 히스토리, 공유/복사 액션, 키보드/스크린리더 대응.
- **제외**: 썸네일 프리로딩 최적화(Plan 6), 관리자 노출 제어(Plan 5), 댓글/좋아요 등 소셜 메트릭.

## 일정 및 마일스톤
- M1 (Day 1) — 라우팅 및 데이터 패칭 훅 설계, 기본 모달 골격 구축.
- M2 (Day 2) — 미디어 캐러셀 + 동영상 플레이어 통합, 키보드 내비게이션 반영.
- M3 (Day 3) — 프로필 히스토리 타임라인, 공유/복사 UX, QA 및 접근성 검수.

## 세부 작업 계획

### 1. 상세 진입 및 상태 관리
- [x] 피드 썸네일 클릭 시 `useNavigate`로 `/post/:id` 라우팅을 수행하고 모달 스택으로 진입
- [x] React Router 라우팅 가드 및 백드롭 클릭/ESC 종료 시 이전 위치 복원
- [x] 게시물 상세 데이터를 패칭하는 `usePostDetail(postId)` 훅 정의(React Query 기반)

### 2. 미디어 캐러셀 & 플레이어
- [x] 이미지/동영상 혼재를 지원하는 캐러셀 컴포넌트(`PostMediaCarousel`) 구현
- [x] 키보드 좌우 이동 및 포커스 관리, 썸네일 인디케이터 제공
- [x] 동영상 항목은 Range 요청을 허용하는 `<video>` 컴포넌트 + 커스텀 컨트롤러 적용
- [x] 미디어 전환 시 프리로드 전략 결정(인접 슬라이드 1개 선로딩)

### 3. 본문 및 공유 액션
- [x] 본문 텍스트에서 해시태그/멘션을 감지하여 링크 컴포넌트화
- [x] "텍스트 복사" 버튼 및 Web Share API(지원 브라우저 한정) 연결
- [x] 다국어/긴 본문 대비 line-clamp + 확장 토글 제공

### 4. 프로필 이미지 히스토리
- [x] 프로필 이미지 스냅샷 목록을 수평 타임라인 컴포넌트로 렌더링
- [x] 타임라인 항목 선택 시 메인 영역 업데이트 및 업로드 날짜 표시
- [x] 데이터가 없을 때의 빈 상태 메시지/일러스트 처리

### 5. 접근성 & QA
- [x] 모달을 WAI-ARIA Dialog 패턴에 맞춰 role/aria-* 속성 적용
- [x] 키보드 트랩과 포커스 초기 진입/종료 로직 구현
- [x] 스크린리더 테스트 및 Lighthouse 접근성 검토
- [x] Storybook 또는 스냅샷 테스트로 캐러셀/모달 기본 동작 검증

## 예상 산출물
- 상세 모달 컴포넌트 및 라우팅/상태 관리 로직
- `PostMediaCarousel`, `VideoPlayer`, `ProfileHistoryTimeline` 등 공통 컴포넌트
- 공유/복사 유틸리티 및 접근성 QA 체크리스트 문서

## 완료 여부
status: done

## 필요 기술/참고 문서
- Framer Motion 또는 Swiper(필요 시)
- WAI-ARIA Dialog 가이드
- Web Share API 및 Clipboard API 문서
